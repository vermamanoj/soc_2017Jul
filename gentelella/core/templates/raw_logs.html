{% extends 'base.html' %}
{% load static %}

{% block main_content %}
<h3 class="h3"> Realtime Logs</h3>

    <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                  <div class="x_title">

                    <ul class="nav navbar-right panel_toolbox">
                      <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                      </li>
                      <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                        <ul class="dropdown-menu" role="menu">
                          <li><a href="#">Settings 1</a>
                          </li>
                          <li><a href="#">Settings 2</a>
                          </li>
                        </ul>
                      </li>
                      <li><a class="close-link"><i class="fa fa-close"></i></a>
                      </li>
                    </ul>
                    <div class="clearfix"></div>
                  </div>
    <input type="text" id="searchInput" onkeyup="search()" placeholder="Search for event summary..">
<div class="table-responsive">
                      <table id="raw_logs_table" class="table table-striped jambo_table bulk_action table-bordered">
                        <thead>
                          <tr class="headings">
                            <tr >
            <th> ID </th>
            <th> Time Stamp </th>
            <th> OEM </th>
            <th> Product </th>
            <th> Severity</th>
            <th>  Event Summary</th>
            <th>  Action</th>

                                </tr>
                        </thead>
<tbody>

        {% for item in  data %}
        <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ item.eventDate}}</td>
            <td>{{ item.vendor}}</td>
            <td>{{ item.productName}}</td>
            <td>{{ item.destinationAddress}}</td>
            <td>{{ item.eventName}}</td>
            <td>{{ item.action}}</td>

        </tr>
        {% endfor %}
</tbody>
                      </table>
                    </div>
</div>
    </div>





<script>
function search() {
  // Declare variables
  var input, filter, table, tr, td, i;
  input = document.getElementById("searchInput");
  filter = input.value.toUpperCase();
  table = document.getElementById("raw_logs_table");
  tr = table.getElementsByTagName("tr");

  // Loop through all table rows, and hide those who don't match the search query
  for (i = 0; i < tr.length; i++) {
    td = tr[i].getElementsByTagName("td")[5];
    if (td) {
      if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "none";
      }
    }
  }
}
</script>
{% endblock %}